# Fairytale Village

## Обзор проекта
Этот проект под названием **Fairytale Village** — небольшое интерактивное приложение, созданное на Unity. В нём я попыталась реализовать уникальную игровую вселенную с элементами сказочного мира. Цель проекта — продемонстрировать базовые возможности по созданию игры: управление камерой, поведение врагов, взаимодействие с объектами и простую боевую систему.

## Основные возможности и компоненты
- **Динамическое слежение камеры:**  
  Скрипт `CameraFollow` реализует плавное слежение камеры за игроком. Для этого используется оконное ограничение и интерполяция, чтобы камера не дергалась и движение выглядело естественно.

- **Враги и их поведение:**  
  - **EnemyLife:** Этот скрипт отвечает за жизнь врагов, получение урона и их уничтожение. Когда враг погибает, появляется награда в виде игровой валюты.  
  - **EnemyNav:** Здесь реализовано случайное блуждание врагов с использованием `NavMeshAgent`. Враг выбирает случайное направление и меняет свою ориентацию в зависимости от цели.

- **Починка домов:**  
  - **House:** Скрипт отвечает за состояние домов (поломанный/починенный). Если у игрока достаточно игровой валюты, дом можно починить, что сопровождается изменением спрайта и восстановлением здоровья игрока. Также ведется подсчёт непочинённых домов через переменную `unfixed`.  
  - **HouseRepairUI:** Этот скрипт показывает пользователю кнопку для починки, если рядом обнаружен дом, требующий ремонта.

- **Игровой процесс и управление:**  
  - **GameInput:** Использует новые возможности Unity Input System для получения ввода игрока, например, движения, положения мыши и команды атаки. При нажатии кнопки атаки вызывается соответствующий метод оружия.  
  - **Player и PlayerVisual:** Скрипты отвечают за перемещение персонажа и изменение его внешнего вида (анимации, поворот спрайта в зависимости от направления движения).

- **Боевая система с мечом:**  
  - **ActiveWeapon, Sword, SwordSlashVisual и SwordVisual:**  
    Здесь реализована механика атаки мечом. При нажатии кнопки атаки происходит включение коллайдера меча для нанесения урона врагам или взаимодействия с домами (например, починка).

- **Отображение интерфейса:**  
  - **Money:** Отвечает за вывод количества игровой валюты на экране с помощью TextMeshPro.  
  - **HealthBar:** Показывает состояние здоровья игрока. Со временем здоровье уменьшается, и если оно становится равным нулю, происходит переход на другую сцену. Также, если все дома починены, запускается сцена победы.

- **Дополнительные скрипты:**  
  - **Destroy:** При столкновении с игроком объект уничтожается, а игрок получает валюту.  
  - **ExitGame:** Позволяет корректно завершить работу приложения.  
  - **Utils:** Содержит вспомогательные функции, например, для генерации случайного направления движения.

- **Навигация между сценами:**  
  Скрипты `MainMenu` и `EndGame` организуют переходы между разными сценами — от главного меню до игровых уровней и обратно.

## Технические особенности
- **Язык и платформа:**  
  Проект сделан на C# с использованием Unity. Применяются стандартные библиотеки Unity (UnityEngine, UnityEngine.AI, UnityEngine.SceneManagement) и новый Input System.

- **Структура проекта:**  
  Проект разделён на модули: управление камерой, врагами, боевыми действиями и взаимодействием с окружением. Такая структура позволяет легко добавлять новые функции и менять существующие.

- **Использование NavMesh:**  
  В классе `EnemyNav` применён `NavMeshAgent` для реализации свободного передвижения врагов по игровой карте.

- **Обработка ввода:**  
  При помощи `PlayerInputActions` обрабатывается ввод с клавиатуры, мыши и других устройств, что позволяет связать действия игрока с игровым процессом.

## Требования к системе
- **Unity:** Рекомендуется использовать Unity 2019.4 LTS или новее.  
- **C#:** Используется C# версии 7.0 и выше, с учетом стандартов Unity.  
- **Платформа:** Проект можно запустить на Windows, macOS или Linux при поддержке 2D.
  
## Запуск игры
- Для запуска вы можете воспользоваться билдами, приложенными к документам для Windows и macOS
- Всегда можно посмотреть демонстрацию игры по ссылке: https://www.youtube.com/watch?v=chWly9Rj-Qw
  
Реализовала 2 сценария:
1) выигрыш, пользователь убил всех врагов (только таким образом хватит ресурса) и починил все дома
2) пользователь забыл что нужно проверять ресурс и пытается починить дом, когда ресурса нет, у него заканчивается здоровье, он проиграл 
